{% extends "travel_app/base.html" %}
{% load static from staticfiles %}
{% block javascript %}
  <script src="{% static "travel_app/js/common.js" %}"></script>
{% endblock %}
{% block content %}
  <div class="container">
    <form action="." id="search-foursquare-form" method="GET">
      <div class="row">
        <div class="col-sm-10 col-xs-10 col-md-8 col-md-offset-1">
          <div class="input-group">
            <span class="input-group-btn">
            <input type="text" class="form-control" placeholder="{{ city }}" name="search" id="search-city">

              <button id="search-city-btn" data-url-part="{{ url_part }}" class="btn btn-default" type="submit">
                <i class="glyphicon glyphicon-search"></i>
              </button>
            </span>
          </div>
        </div>

      </div>
    </form>

    <div class="row">
      <div class="col-sm-4 col-sm-offset-4 col-xs-12 col-md-4 col-md-offset-4">
        <h2> {{ venues }} in {{ city }}</h2>
      </div>
    </div>
    {% for venue in foursquare_venues %}
      <div class="row foursquare-venue-row">
        <div class="col-sm-3 col-xs-12 col-md-5">
          <div class="venue-desc">
            <h3>{{ venue.name }}</h3>
            {% if venue.url %}
              <p>
              <span class="glyphicon glyphicon-link" aria-hidden="true"></span>
              <a href="{{ venue.url }}">{{ venue.url }}</a>
            {% endif %}
            {% if venue.phone %}
              <p>
              <span class="glyphicon glyphicon-phone-alt" aria-hidden="true"></span>
              {{ venue.phone }}
            {% endif %}
            {% if venue.address %}
              <p>
              <span class="glyphicon glyphicon-home" aria-hidden="true"></span>
              {{ venue.address }}
            {% endif %}
          </div>

        </div>
        <div class="col-sm-9 col-xs-12 col-md-7">
          <div>
            {% if venue.photo %}
            <div>
              <img src="{{ venue.photo }}" alt="{{ venue.name }}" class="img-responsive img-rounded item-img">
            </div>
            {% endif %}
          </div>
        </div>
      </div>

    {% empty %}
      <p> Nothing found in this city at all!
    {% endfor %}
  </div>
{% endblock %}

